jQuery,tinymce.PluginManager.add("tiny-bootstrap-visibility",function(o){var s,l="H1,H2,H3,H4,H5,H6,DIV,P,PRE,ADDRESS",a=mce_tiny_bootstrap_visibility,e=a.l10n;function t(e){var t=o.dom.getParent(o.selection.getNode(),l),s=jQuery(t),n=e.split(" ");if(function(){var e,t=o.dom.getParent(o.selection.getNode(),l);for(i=1;i<a.classes.length;i++)if(-1!==o.dom.getAttrib(t,"class").indexOf(a.classes[i].value)){e=a.classes[i].value.split(" ");for(var s=0;s<e.length;s++)jQuery(t).removeClass(e[s])}}(),""!=e)for(i=0;i<n.length;i++)s.addClass(n[i])}o.addButton("tiny_bootstrap_visibility",{type:"listbox",text:e.devices,tooltip:e.visibility_on_devices,menu_button:!0,classes:"widget btn fixed-width",onselect:function(e){t(this.value())},values:a.classes,onPostRender:function(){s=this,o.on("nodechange",function(e){!function(){var e,t=o.dom.getParent(o.selection.getNode(),l);for(s.disabled(!t),e=1;e<a.classes.length;e++)if(-1!==o.dom.getAttrib(t,"class").indexOf(a.classes[e].value))return s.value(a.classes[e].value);s.value("")}()})}})});